<?xml version="1.0" encoding="UTF-8"?>

<!--
    MODIFICACIÓN: Añadida funcionalidad de Registro.
    1. Se agregaron campos para Nombre, Apellido, Email, Password, Confirm Password.
    2. Se añadió un VBox (registerPane) para agrupar los campos de registro, inicialmente oculto.
    3. Se añadieron Hyperlinks para alternar entre las vistas de Login y Registro.
    4. Se ajustó el layout general para dar espacio a los nuevos campos.
-->

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>

<AnchorPane style="-fx-background-color: #2e354f;" xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="pe.edu.upeu.athenium.controller.LoginController"
            prefHeight="550.0" prefWidth="400.0"> <!-- Ajustar tamaño si es necesario -->
    <children>
        <AnchorPane AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0">
            <!-- ... (Círculos decorativos y Título "Login Athenium" - Sin cambios) ... -->
            <Circle fill="#e80808" layoutX="34.0" layoutY="33.0" radius="15.0" stroke="BLACK" strokeType="INSIDE" />
            <Circle fill="#e8ff1f" layoutX="70.0" layoutY="33.0" radius="15.0" stroke="BLACK" strokeType="INSIDE" />
            <Circle fill="#44ff1f" layoutX="106.0" layoutY="33.0" radius="15.0" stroke="BLACK" strokeType="INSIDE" />
            <Label layoutX="150.0" layoutY="20.0" text="Login Athenium" textFill="#b5abd1">
                <font><Font name="System Bold" size="18.0" /></font>
            </Label>
        </AnchorPane>

        <!-- Contenedor Principal VBox para organizar Login y Registro -->
        <VBox alignment="TOP_CENTER" layoutX="14.0" layoutY="70.0" spacing="15.0"
              AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0" AnchorPane.topAnchor="70.0">

            <!-- Panel de Login (Siempre visible al inicio) -->
            <VBox fx:id="loginPane" spacing="10.0" managed="true" visible="true">
                <children>
                    <Label text="Iniciar Sesión" textFill="#b5abd1" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                    <TextField fx:id="txtUsuario" promptText="Email Universitario" prefHeight="35.0" style="-fx-border-color: #b5abd1; -fx-border-radius: 5;"/>
                    <PasswordField fx:id="txtClave" promptText="Contraseña" prefHeight="35.0" style="-fx-border-color: #b5abd1; -fx-border-radius: 5;"/>
                    <Button fx:id="btnIngresar" onAction="#login" text="Ingresar" maxWidth="Infinity" styleClass="btn, btn-primary" prefHeight="40.0"/>
                    <Hyperlink text="¿No tienes cuenta? Regístrate aquí" onAction="#showRegisterPane" style="-fx-text-fill: #b5abd1;"/>
                </children>
                <padding><Insets top="10.0" bottom="10.0"/></padding>
            </VBox>

            <!-- Panel de Registro (Inicialmente Oculto) -->
            <VBox fx:id="registerPane" spacing="10.0" managed="false" visible="false">
                <children>
                    <Label text="Crear Nueva Cuenta" textFill="#b5abd1" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                    <TextField fx:id="txtNombreReg" promptText="Nombre(s)" prefHeight="35.0" style="-fx-border-color: #b5abd1; -fx-border-radius: 5;"/>
                    <TextField fx:id="txtApellidoReg" promptText="Apellido(s)" prefHeight="35.0" style="-fx-border-color: #b5abd1; -fx-border-radius: 5;"/>
                    <TextField fx:id="txtEmailReg" promptText="Email Universitario" prefHeight="35.0" style="-fx-border-color: #b5abd1; -fx-border-radius: 5;"/>
                    <PasswordField fx:id="txtClaveReg" promptText="Contraseña" prefHeight="35.0" style="-fx-border-color: #b5abd1; -fx-border-radius: 5;"/>
                    <PasswordField fx:id="txtConfirmClaveReg" promptText="Confirmar Contraseña" prefHeight="35.0" style="-fx-border-color: #b5abd1; -fx-border-radius: 5;"/>
                    <Button fx:id="btnRegistrar" onAction="#handleRegister" text="Registrarse" maxWidth="Infinity" styleClass="btn, btn-success" prefHeight="40.0"/>
                    <Hyperlink text="¿Ya tienes cuenta? Inicia sesión aquí" onAction="#showLoginPane" style="-fx-text-fill: #b5abd1;"/>
                </children>
                <padding><Insets top="10.0" bottom="10.0"/></padding>
            </VBox>

            <!-- Mensaje de error/éxito -->
            <Label fx:id="lblStatus" alignment="CENTER" maxWidth="Infinity" wrapText="true" style="-fx-font-weight: bold;"/>

        </VBox>

        <!-- Botón Cerrar (opcional, si no usas los de la ventana) -->
        <Button layoutX="150.0" layoutY="500.0" mnemonicParsing="false" onAction="#cerrar" text="Cerrar App" styleClass="btn, btn-danger" AnchorPane.bottomAnchor="15.0" AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0"/>

    </children>
</AnchorPane>
